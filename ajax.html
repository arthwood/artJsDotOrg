<h2>Ajax</h2>
<div class="clearfix">
  <p class="label">Package:</p>
  <p class="package">com.arthwood.net</p>
</div>

<h3>Description</h3>
<p>Facilitates AJAX requests</p>

<h3>Constructor</h3>
<ul class="members">
  <li>
    <h4><a href="#">Ajax(url:String, data:Object, method:String)</a></h4>
    <p><span class="param">url</span> - request URL</p>
    <p><span class="param">data</span> - request data</p>
    <p><span class="param">method</span> - request method</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.onSuccess.add(new Delegate(this, this.onAjaxSuccess));<br/><br/>
        
        ajax.request();
      </p>
    </div>
  </li>
</ul>

<h3>Events</h3>
<ul class="members">
  <li>
    <h4><a href="#">onSuccess(ajax:Ajax)</a></h4>
    <p>Dispatched after successful response</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.onSuccess.add(new Delegate(null, onAjaxSuccess));<br/><br/>
        
        function onAjaxSuccess(ajax) {<br/>
        &nbsp;&nbsp;alert('success!');<br/>
        }<br/><br/>
        
        ajax.request();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">onFailure(ajax:Ajax)</a></h4>
    <p>Dispatched after request failed</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.onFailure.add(new Delegate(null, onAjaxFailure));<br/><br/>
        
        function onAjaxFailure(ajax) {<br/>
        &nbsp;&nbsp;alert('failure...');<br/>
        }<br/><br/>
        
        ajax.request();
      </p>
    </div>
  </li>
</ul>

<h3>Properties</h3>
<ul class="members">
  <li>
    <h4><a href="#">url:String</a></h4>
    <p>The same property as in constructor</p>
  </li>
  <li>
    <h4><a href="#">data:Object</a></h4>
    <p>The same property as in constructor</p>
  </li>
  <li>
    <h4><a href="#">method:String</a></h4>
    <p>The same property as in constructor</p>
  </li>
  <li>
    <h4><a href="#">requestData:Object</a></h4>
    <p>Data that is actually send to server</p>
  </li>
  <li>
    <h4><a href="#">requestMethod:String</a></h4>
    <p>Method that is actually used for request</p>
  </li>
  <li>
    <h4><a href="#">requestQueryData:String</a></h4>
    <p>request data transformed to a String (this is what is actually send to server)</p>
  </li>
</ul>

<h3>Methods</h3>
<ul class="members">
  <li>
    <h4><a href="#">request():Void</a></h4>
    <p>Performs request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.onSuccess.add(new Delegate(this, this.onAjaxSuccess));<br/><br/>
        
        ajax.request();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">abort():Void</a></h4>
    <p>Aborts request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.request();<br/><br/>
        
        // ... at some point during request<br/>
        ajax.abort();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getReadyState():Number</a></h4>
    <p>Returns request ready state</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.request();<br/><br/>
        
        // ... at some point during request<br/>
        ajax.getReadyState();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getStatus():Number</a></h4>
    <p>Returns request status</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.request();<br/><br/>
        
        // ... at some point during request<br/>
        ajax.getStatus();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getStatusText():String</a></h4>
    <p>Returns request status text</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.request();<br/><br/>
        
        // ... at some point during request<br/>
        ajax.getStatusText();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getResponseText():String</a></h4>
    <p>Returns response text</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.onSuccess.add(new Delegate(null, onAjaxSuccess));<br/><br/>
        
        function onAjaxSuccess(ajax) {<br/>
        &nbsp;&nbsp;alert(ajax.getResponseText());<br/>
        }<br/><br/>
        
        ajax.request();
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">setRequestHeader(header:String, value:String):Void</a></h4>
    <p>Sets request header</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.setRequestHeader('X-My-Header', 'hello');
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getRequestHeader(header:String):String</a></h4>
    <p>Returns request header</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.getRequestHeader('Accept');
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">getAllRequestHeaders():String</a></h4>
    <p>Returns all request headers</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = new Ajax('/users', {only_active: 1}, ArtJs.Ajax.Methods.GET);<br/><br/>
        
        ajax.getAllRequestHeaders();
      </p>
    </div>
  </li>
</ul>

<h3>Static properties</h3>
<ul class="members">
  <li>
    <h4><a href="#">Methods.GET</a></h4>
    <p>GET method name ('GET')</p>
  </li>
  <li>
    <h4><a href="#">Methods.POST</a></h4>
    <p>POST method name ('POST')</p>
  </li>
  <li>
    <h4><a href="#">Methods.PUT</a></h4>
    <p>PUT method name ('PUT')</p>
  </li>
  <li>
    <h4><a href="#">Methods.DELETE</a></h4>
    <p>DELETE method name ('DELETE')</p>
  </li>
  <li>
    <h4><a href="#">ReadyState.UNINITIALIZED</a></h4>
    <p>UNINITIALIZED ready state (0)</p>
  </li>
  <li>
    <h4><a href="#">ReadyState.OPEN</a></h4>
    <p>OPEN ready state (1)</p>
  </li>
  <li>
    <h4><a href="#">ReadyState.SENT</a></h4>
    <p>SENT ready state (2)</p>
  </li>
  <li>
    <h4><a href="#">ReadyState.RECEIVING</a></h4>
    <p>RECEIVING ready state (3)</p>
  </li>
  <li>
    <h4><a href="#">ReadyState.LOADED</a></h4>
    <p>LOADED ready state (4)</p>
  </li>
</ul>

<h3>Static methods</h3>
<ul class="members">
  <li>
    <h4><a href="#">get(url:String, data:Object, onSuccess:Delegate)</a></h4>
    <p>Performs GET request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = Ajax.get('/users', {only_active: 1}, new Delegate(this, this.onAjaxSuccess);
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">post(url:String, data:Object, onSuccess:Delegate)</a></h4>
    <p>Performs POST request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = Ajax.post('/users', {name: 'Michael'}, new Delegate(this, this.onAjaxSuccess);
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">put(url:String, data:Object, onSuccess:Delegate)</a></h4>
    <p>Performs PUT request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = Ajax.put('/users/3', {name: 'Michael'}, new Delegate(this, this.onAjaxSuccess);
      </p>
    </div>
  </li>
  <li>
    <h4><a href="#">del(url:String, data:Object, onSuccess:Delegate)</a></h4>
    <p>Performs DELETE request</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var ajax = Ajax.del('/users/3', {name: 'Michael'}, new Delegate(this, this.onAjaxSuccess);
      </p>
    </div>
  </li>
</ul>
