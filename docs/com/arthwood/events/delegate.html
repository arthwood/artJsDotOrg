<h2>Delegate</h2>
<div class="clearfix">
  <p class="label">Package:</p>
  <p class="package">com.arthwood.events</p>
</div>

<h3>Description</h3>
<p>Allows to keep context object along with function</p>

<h3>Constructor</h3>
<ul class="members">
  <li>
    <h4><a href="delegate.html#">Delegate(object:Object, method:Function, ...rest)</a></h4>
    <p><span class="param">object</span> - context object</p>
    <p><span class="param">method</span> - any function</p>
    <p>
      Delegate wraps context object, any function and optional arguments into single Delegate object.<br/>
      When you ask for callback function:<br/>
      <span class="block code">
        var delegate = new Delegate(this, this.onChange, 'hello');<br/>
        var callback = delegate.callback();
      </span>
      you will get a Function object that when called will have set <span class="code" >this</span> to context object.<br/>
      Optionally when you pass <span class="code">true</span> to <span class="code">delegate.callback()</span> 
      the <span class="code">callback</span> handler will receive "source" as first argument 
      ("source" points to object who actually called the callback).<br/> 
      Arguments list that are passed to callback function are:<br/>
      - source object (if specified)<br/>
      - arguments that are passed directly when it is being called<br/>
      - optional arguments (...rest) passed to delegate when creating the instance 
    </p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        function onClick(link, e, msg) {<br/>
          &nbsp;&nbsp;alert('Link clicked! ' + msg);<br/>
          &nbsp;&nbsp;return false;<br/>
        }<br/><br/>
        
        var delegate = new Delegate(this, onClick, 'hello');<br/><br/>
        
        link.onclick = delegate.callback(true);
      </p>
    </div>
  </li>
</ul>

<h3>Properties</h3>
<ul class="members">
  <li>
    <h4><a href="delegate.html#">object:Object</a></h4>
    <p>The same property as in constructor</p>
  </li>
  <li>
    <h4><a href="delegate.html#">method:Function</a></h4>
    <p>The same property as in constructor</p>
  </li>
  <li>
    <h4><a href="delegate.html#">args:Array</a></h4>
    <p>optional set of arguments</p>
  </li>
</ul>

<h3>Methods</h3>
<ul class="members">
  <li>
    <h4><a href="delegate.html#">invoke():Object</a></h4>
    <p>Calls the delegate method with object as a context</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        function method(value, message) {<br/>
          &nbsp;&nbsp;alert('method called! value:' + value + ', message: ' + message);<br/>
          &nbsp;&nbsp;return true;<br/>
        }<br/><br/>
        
        var delegate = new Delegate(this, method, 'hello');<br/>
        var result = delegate.invoke(5); // true
      </p>
    </div>
  </li>
  <li>
    <h4><a href="delegate.html#">callback(withSource:Boolean):Function</a></h4>
    <p>Returns Function object, than when called will receive source object as first argument if 
      <span class="code">withSource</span> is true, and <span class="code">this</span> in that function 
      will always point to context object</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var obj = {id: 4};<br/><br/>
        
        function meth(source, name, greeting) {<br/>
          &nbsp;&nbsp;alert('source: ' + source + ', id: ' + this.id + ': ' + greeting + ", it's " + name);<br/>
        }<br/><br/>
        
        var delegate = new Delegate(obj, meth, 'hello');<br/>
        var callback = delegate.callback(true);<br/><br/>
        
        callback('Steve');
      </p>
    </div>
  </li>
</ul>

<h3>Static Methods</h3>
<ul class="members">
  <li>
    <h4><a href="delegate.html#">callback(object:Object, method:Function, withSource:Boolean, ...rest):Function</a></h4>
    <p>A shorthand function that allows to create delegate and returns it's callback at one step</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var obj = {id: 4};<br/><br/>
        
        function meth(source, name, greeting) {<br/>
          &nbsp;&nbsp;alert('source: ' + source + ', id: ' + this.id + ': ' + greeting + ", it's " + name);<br/>
        }<br/><br/>
        
        var callback = Delegate.callback(obj, meth, true, 'hello');<br/><br/>
        
        callback('Steve');
      </p>
    </div>
  </li>
  <li>
    <h4><a href="delegate.html#">create(object:Object, method:Function, ...rest):Delegate</a></h4>
    <p>A shorthand function that allows to create and return new delegate object</p>
    <div class="more" style="display:none">
      <p class="example">Example:</p>
      <p class="block code">
        var obj = {id: 4};<br/><br/>
        
        function meth(source, name, greeting) {<br/>
          &nbsp;&nbsp;alert('source: ' + source + ', id: ' + this.id + ': ' + greeting + ", it's " + name);<br/>
        }<br/><br/>
        
        var delegate = Delegate.create(obj, meth, 'hello');<br/>
        var callback = delegate.callback(true);<br/><br/>
        
        callback('Steve');
      </p>
    </div>
  </li>
</ul>
